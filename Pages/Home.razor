@page "/"
@page "/home"
<style>


    .accent {
        color: var(--quiz-accent)
    }

    .white {
        color: white;
    }

    main[quizlistmain] {
        background: var(--quiz-bg);
        display: flex;
        width: 100%;
        align-items: center;
        flex-direction: column;
        min-height: 100vh;
    }

    .fixed {
        z-index: 100;
        position: fixed;
        width: 100%;
        display: flex;
        justify-content: center;
    }

        main[quizlistmain] > *,
        .fixed > * {
            width: 100%;
            max-width: 700px;
            padding: 10px;
        }

    header {
        background: var(--quiz-header-bg);
        backdrop-filter: blur(5px);
        color: white;
        display: flex;
        font-size: 30px;
        align-items: center;
        justify-content: center;
        text-align: center;
        height: 100px;
        border-radius: 0% 0 40% 40%;
        font-family: changa;
        padding-bottom: 200px;
        position: relative;
        box-shadow: 0px 0px 15px 5px white;
    }

        header > * {
            margin-top: -20px;
        }

        header > i {
            position: absolute;
            right: 0;
            margin-right: 20px;
            cursor: pointer;
        }

    .listOfCourses {
        margin-top: 15px;
        color: white;
        width: 100%;
        text-align: center;
        display: grid;
        row-gap: 10px;
        padding: 0px 12px;
        list-style: none;
    }

        .listOfCourses > li {
            background: var(--quiz-accent);
            height: 50px;
            border-radius: 10px;
            display: flex;
            overflow: hidden;
        }

            .listOfCourses > li:hover {
                background: grey;
            }

            .listOfCourses > li > * {
                height: 50px;
                display: grid;
                justify-content: center;
                align-items: center;
                width: 100%;
            }

    .loading-container {
        width: 100vw;
        height: 100vh;
        max-height: 100vh;
        max-width: 100vw;
        display: grid;
        align-items: center;
        justify-content: center;
        position: fixed;
        background: black
    }

</style>


<section class="fixed">
    <header>
        <span>Quiz App</span>
        <i class="bx bx-menu"</i>
    </header>
    
</section>



@if (levels is null)
{
    <i>loading...</i>
}
else
{
    <main quizlistmain>
        
        <section style="padding: 10px;">
            <br />
            <br />
            <br />
            <br />
            <br />
            <p style="color: white; opacity: 0.5; font-size: 20px; text-align: center">TMD x Vicolraj</p><br />
            <label style="font-size: 20px" class="accent" for="level">To change level click 👉 </label>
            <select id="level" 
                @bind="selectedLevel">
                @foreach (var levelNumber in levels)
                {
                    if (levelNumber.LevelNumber == 100)
                    {
                        <option selected style="color: var(--quiz-accent)">@levelNumber.LevelNumber</option>
                    }
                    else
                    {
                        <option style="color: var(--quiz-accent)">@levelNumber.LevelNumber</option>

                    }
                }
            </select>
            
            <ul class="listOfCourses">
                @foreach (var _ in levels)
                {

                    if (_.LevelNumber == selectedLevel)
                    {
                        <h2 style="text-align:left">First Semester</h2>
                        @foreach (string __ in _.FirstSemesterCourses!)
                        {
                            <li><a href=@($"/quiz/{__}")>@__</a></li>
                        }
                        <div class="normalAds">
                            <script type="text/javascript">
                                atOptions = {
                                'key': 'db03b628ca370f39c7a0c9b0c3410f8e',
                                'format': 'iframe',
                                'height': 60,
                                'width': 468,
                                'params': {}
                                };
                            </script>
                            <script type="text/javascript" src="//www.topcreativeformat.com/db03b628ca370f39c7a0c9b0c3410f8e/invoke.js">
                            </script>
                        </div>
                        <!--
                            <h2>Second Semester</h2>
                        @foreach (string __ in _.SecondSemesterCourses!)
                        {
                            <li><a href=@($"/quiz/{__}")>@__</a></li>
                        }
                        -->
                        

                    }

                }
            </ul>
        </section>
        <br />


        <small style="text-align: center; color: white">Vicolraj &copy; 2025</small>
    </main>


}
@code {
    public string No = "<b>hghghgh</b>";
    int selectedLevel = 100;
    List<Level> levels = new List<Level>();

    protected override void OnInitialized()
    {
        base.OnInitialized();
        levels =
        [
            new ()
            {
                LevelNumber = 100,
                FirstSemesterCourses = ["CSC101","MTS101","CHE101","BIO101","PHY101", "GNS103","PHY103"],
                SecondSemesterCourses = ["CSC102","MTS102","BIO102","PHY102", "GNS102", "CHE104","CHE102"]
            },

        new ()
            {
                LevelNumber = 200,
                FirstSemesterCourses = ["CSC201","MTS201"],
                SecondSemesterCourses = ["CSC202","MTS202"]
            }
        ];
    }



    class Level
    {
        public int LevelNumber { get; set; }
        public string[]? FirstSemesterCourses { get; set; }
        public string[]? SecondSemesterCourses { get; set; }
    }
}
